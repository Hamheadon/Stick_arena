#: import img kivy.core.image.Image
#: import partial functools.partial
#: set c_hint {"center": (.5, .5)}

<Player>:
    StickImage:
        #pos_hint: c_hint
        id: body
        size_hint_y: .5
        anim_delay: 0.1
        source: "assets/mains/sprite.png"

<LobbyScreen>:
    name: "ls"
    BoxLayout:
        orientation: "vertical"
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .05
            Button:
                text: "lobby"
            Button:
                text: "Profile"
            Button:
                text: "Shop"
            Button:
                text: "Map editor"
        BoxLayout:
            size_hint: 1, .64
            orientation: "horizontal"
            ScrollView:
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos
                        texture: img("assets/mains/lobby_bg.jpg").texture
                size_hint: .69, 1
                do_scroll_y: True
                GridLayout:
                    cols: 1
                    height: self.minimum_height
                    size_hint_y: None
                    row_default_height: self.parent.height

            BoxLayout:
                size_hint: .31, 1
                orientation: "vertical"
                ScrollView:
                    canvas.before:
                        Color:
                            rgba: .1, .1, .1, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos
                            #texture: img("assets/mains/lobby_bg.jpg").texture
                    #size_hint: .69, 1
                    do_scroll_y: True
                    GridLayout:
                        id: games_list
                        cols: 1
                        height: self.minimum_height
                        size_hint_y: None
                        row_default_height: self.parent.height * 0.1
                Button:

        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .31
            BoxLayout:
                size_hint: .69, 1
                BoxLayout:
                BoxLayout:
            FloatLayout:
                id: game_options
                size_hint: .31, 1
                BoxLayout:
                    pos_hint: c_hint
                    size_hint: .73, .73
                    StickButton:
                        text: "New Game"
                        release_func: partial(root.start_game, "HQ")

